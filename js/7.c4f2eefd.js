(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"0b69":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-select",{staticClass:"row q-mx-sm",attrs:{value:t.SelectedWorkMode.name,options:t.WorkModes,color:"positive","label-color":"info",borderless:"","transition-show":"scale","transition-hide":"scale",label:"Режим работы протеза"},on:{input:function(e){return t.workModeChanged(e)}}})},o=[],i=s("a6f4"),l=Object(i["c"])({setup(t,{root:{$store:e,$router:s}}){const a=Object(i["a"])((()=>e.getters.SelectedWorkMode)),o=Object(i["a"])((()=>e.getters.WorkModes)),l=t=>e.dispatch("WorkModeSelect",t),n=t=>{console.log(a),l(t),99===a.value.id&&a.value.isSelected?(console.log("Топанькаем на страничку реабилитации"),s.push("/main/rehabilitation")):s.push("/main/options")};return{SelectedWorkMode:a,WorkModes:o,workModeChanged:n}}}),n=l,r=s("2877"),c=s("ddd8"),d=s("eebe"),u=s.n(d),S=Object(r["a"])(n,a,o,!1,null,null,null);e["a"]=S.exports;u()(S,"components",{QSelect:c["a"]})},7552:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{attrs:{"style-fn":t.pageHeightCorrection}},[s("options-sections",{staticClass:"q-mx-sm"},[s("workModeSelector")],1),s("options-sections",{staticClass:"q-mx-sm",attrs:{title:"Датчик давления"}},[s("div",{staticClass:"row items-center q-mt-md q-mx-md"},[s("q-toggle",{staticClass:"col-auto text-center",attrs:{value:((t.Sensors||{}).Tenzo||{}).isEnabled,label:"Тензо",color:"info"},on:{input:function(e){return t.SetSensorData(Object.assign({},t.Sensors.Tenzo,{isEnabled:e}))}}}),s("q-slider",{staticClass:"col-grow q-mx-md",attrs:{value:((t.Sensors||{}).Tenzo||{}).value,min:1,max:254,label:"","label-value":Math.round(((t.Sensors||{}).Tenzo||{}).value/.254)/10+"%","label-always":"",color:"info"},on:{input:function(e){return t.SetSensorData(Object.assign({},t.Sensors.Tenzo,{value:e}))}}})],1)]),s("options-sections",{staticClass:"q-mx-sm",attrs:{title:"Скорость схвата"}},t._l(t.GestureSpeeds,(function(e){return s("div",{key:e.id,staticClass:"row items-center q-mt-sm"},[s("div",{staticClass:"col-5 "},[s("span",{staticClass:"text-body2 q-ml-md"},[t._v(t._s(e.name))])]),s("div",{staticClass:"col-6"},[s("q-slider",{staticClass:"q-ml-md q-mr-sm",attrs:{value:(e||{}).value,min:0,max:254,label:"","label-value":Math.round((e||{}).value/.254)/10+"%","label-always":"",color:e.id+"-speed-color"},on:{input:function(s){return t.SetGestureSpeed({id:e.id,value:s})}}})],1)])})),0),s("options-sections",{staticClass:"q-mx-sm",attrs:{title:"Ускорение схвата"}},[s("div",{staticClass:"row items-center q-mt-sm"},[s("div",{staticClass:"col-6"},[s("span",{staticClass:"text-body2 q-ml-md"},[t._v("Начальная скорость")])]),s("div",{staticClass:"col-5"},[s("q-slider",{staticClass:"q-ml-md q-mr-sm",attrs:{value:t.Acceleration.startSpeed,min:0,max:254,label:"","label-value":Math.round(t.Acceleration.startSpeed/.254)/10+"%","label-always":"",color:"deep-orange-13"},on:{input:function(e){return t.SetAccelerationStartSpeed(e)}}})],1)]),s("div",{staticClass:"row items-center q-mt-sm"},[s("div",{staticClass:"col-6"},[s("span",{staticClass:"text-body2 q-ml-md"},[t._v("Время ускорения")])]),s("div",{staticClass:"col-5"},[s("q-slider",{staticClass:"q-ml-md q-mr-sm",attrs:{value:t.Acceleration.time,min:0,max:254,label:"","label-value":t.Acceleration.time,"label-always":"",color:"blue-9"},on:{input:function(e){return t.SetAccelerationTime(e)}}})],1)])]),s("div",{staticClass:"row justify-center items-stretch q-mt-xs "},[s("q-btn",{staticClass:"col q-mx-md",attrs:{loading:t.loading,color:"info",label:"Сохранить настройки"},on:{click:t.optionsSaveClick}}),s("q-btn",{staticClass:"col q-mx-md",attrs:{loading:t.loading,color:"secondary",label:"Сброс к заводским"},on:{click:t.optionsResetClick}})],1)],1)},o=[],i=s("ded3"),l=s.n(i),n=(s("ddb0"),s("2f62")),r=s("8f51"),c=s("0b69"),d={name:"Grafics",components:{optionsSections:r["a"],workModeSelector:c["a"]},data(){return{loading:!1}},computed:l()(l()({},Object(n["c"])(["Protocol","Sensors","SelectedWorkMode","GestureSpeeds","Acceleration","Rehabilitation"])),{},{isRehabilitation(){return 99===this.SelectedWorkMode.id}}),async mounted(){await this.DataSend([this.Protocol.MESSAGE_TYPE.GET_SMARTLI_TOTAL_STATES,44,66,77])},methods:l()(l()({},Object(n["b"])(["SetSensorData","DataSend","SetGestureSpeed","SetAccelerationTime","SetAccelerationStartSpeed","SetRehabilitationPause","SetRehabilitationSpeed"])),{},{async optionsSaveClick(){this.loading=!0,console.log("Режим работы:"),await this.DataSend([this.Protocol.MESSAGE_TYPE.WORK_MODE,this.SelectedWorkMode.id,0,0]),this.isRehabilitation?(console.log("Уставки режима реабилитации:"),await this.DataSend([this.Protocol.MESSAGE_TYPE.REHABILITATION_OPTIONS,0,this.Rehabilitation.speed,this.Rehabilitation.pause])):(console.log("Уставки датчиков:"),await this.DataSend([this.Protocol.MESSAGE_TYPE.SENSORS_OPTIONS,((this.Sensors||{}).Tenzo||{}).isEnabled?((this.Sensors||{}).Tenzo||{}).value:0,this.Sensors.EMG1.value,this.Sensors.EMG2.value]),console.log("Уставки скоростей:"),await this.DataSend([this.Protocol.MESSAGE_TYPE.SPEEDS_OPTIONS,(this.GestureSpeeds.find((t=>"hight"===t.id))||{}).value,(this.GestureSpeeds.find((t=>"normal"===t.id))||{}).value,(this.GestureSpeeds.find((t=>"low"===t.id))||{}).value]),console.log("Уставки ускорения:"),await this.DataSend([this.Protocol.MESSAGE_TYPE.ACCELERATION_OPTIONS,this.Acceleration.startSpeed,this.Acceleration.time,0])),this.loading=!1},async optionsResetClick(){this.loading=!0,await this.DataSend([this.Protocol.MESSAGE_TYPE.WORK_MODE,...this.Protocol.RESET_CODE.SEND_CODE]),this.loading=!1},pageHeightCorrection(t){return console.log(t),{height:t?`calc(100vh - ${t}px)`:"100vh"}}})},u=d,S=s("2877"),m=s("9989"),h=s("ddd8"),p=s("9564"),b=s("c1d0"),v=s("9c40"),E=s("eebe"),C=s.n(E),g=Object(S["a"])(u,a,o,!1,null,null,null);e["default"]=g.exports;C()(g,"components",{QPage:m["a"],QSelect:h["a"],QToggle:p["a"],QSlider:b["a"],QBtn:v["a"]})},"8f51":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row items-center q-mx-sm"},[s("span",{staticClass:"text-body1 text-info"},[t._v(t._s(t.title))])]),t._t("default"),s("q-separator",{staticClass:"q-mt-xs"})],2)},o=[],i={props:{title:{default:"",type:String}}},l=i,n=s("2877"),r=s("eb85"),c=s("eebe"),d=s.n(c),u=Object(n["a"])(l,a,o,!1,null,null,null);e["a"]=u.exports;d()(u,"components",{QSeparator:r["a"]})}}]);